<!--<h2>{{ 'dispensingPatients.title' | message }}</h2>-->
<h2 ng-if="vm.orderingFacility">{{'orderFulfillment.fulfillOrdersAt' | message: {'facility':  vm.orderingFacility.name} }}</h2>
<h2 ng-if="!vm.orderingFacility">{{ 'dispensingPrescriptions.title' | message }}</h2>

<form class="sidebar">
  <label for="patientId">{{ 'dispensingPrescriptions.patientId' | message }}</label>
  <input class="form-control" type="text" style="width: 150px;" ng-model="vm.patientId">
  <label for="patientType">{{ 'dispensingPrescriptions.patientType' | message }}</label>
  <input class="form-control" type="text" style="width: 150px;" ng-model="vm.patientType">
  <label for="lastName">{{ 'dispensingPrescriptions.lastName' | message }}</label>
  <input class="form-control" type="text" style="width: 150px;" ng-model="vm.lastName">
  <label for="firstName">{{ 'dispensingPrescriptions.firstName' | message }}</label>
  <input class="form-control" type="text" style="width: 150px;" ng-model="vm.firstName">
  <input type="submit" class="btn btn-primary" value="{{'orderFulfillment.search' | message}}"/>

</form>

<section class="openlmis-table-container">
  <openlmis-sort options="vm.options"/>
  <!-- <form ng-submit="vm.loadOrders()" >
    <label for="orderingFacility">Patient Number</label>
    <input class="form-control" type="text" style="width: 150px;">
    <label>Last Name</label>
    <input class="form-control" type="text" style="width: 150px;">
    <label>First Name</label>
    <input class="form-control" type="text" style="width: 150px;">
    <label>Nation ID Number</label>
    <input class="form-control" type="text" style="width: 150px;">
    <label>Date of Birth</label>
    <input id="lineItem.occurredDate" type="date" style="width: 90px;" ng-model="lineItem.occurredDate"
      ng-change="vm.validateDate(lineItem)" max-date="vm.maxDate" required inputmode="none"/>
    <label>Contact Number</label>
    <input class="form-control" value="+266 " type="text" style="width: 150px;">
    <input type="submit" class="btn btn-primary" value="{{'orderFulfillment.search' | message}}"/>
  </form> -->
  <section class="is-primary">
    <form class="form-inline" ng-submit="vm.addProduct()" name="productForm">
        <button type="button" ui-sref="openlmis.dispensing.patients.form" class="add">Add Patient</button>
    </form>
  </section>
  <table>
    <caption ng-if="!vm.prescriptions.length">{{'dispensingPrescriptions.prescriptions.error' | message}}</caption>
    <thead>
    <tr>
      <th>{{'dispensingPrescriptions.patientNumber' | message}}</th>
      <th>{{'dispensingPrescriptions.lastName' | message}}</th>
      <th>{{'dispensingPrescriptions.firstName' | message}}</th>
      <th>{{'dispensingPrescriptions.patientType' | message}}</th>
      <th>{{'dispensingPrescriptions.followUpDate' | message}}</th>
      <th>{{'dispensingPrescriptions.createdDate' | message}}</th>
      <th>{{'dispensingPrescriptions.dateCaptured' | message}}</th>
      <th>{{'dispensingPrescriptions.issueDate' | message}}</th>
      <th>{{'dispensingPrescriptions.status' | message}}</th>
      <th class="col-sticky sticky-right">{{'dispensingPrescriptions.actions' | message}}</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="prescription in vm.prescriptions">
      <!-- <td class="col-emergency">
        <i ng-class="{'icon-ok': order.emergency}"></i>
      </td> -->
      <td>{{patient.patientId}}</td>
      <td>{{prescription.status}}</td>
      <!-- <td>{{order.facility | facility}}</td> -->
      <td>{{prescription.program.name}}</td>
      <td>{{prescription.dateCaptured | openlmisDate}}</td>
      <td>{{prescription.createdDate | openlmisDate}}</td>
      <!-- <td> -->
        <!-- <button ng-if="order.isFulfilling()" ui-sref="openlmis.orders.shipmentView({id: order.id})">
          {{'orderFulfillment.continueFulfillment' | message}}
        </button>
        <button ng-if="!order.isFulfilling()" ui-sref="openlmis.orders.shipmentView({id: order.id})">
          {{'orderFulfillment.startFulfillment' | message}}
        </button> -->
      <!-- </td> -->
    </tr>

    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>
        <button type="button" class="btn btn-primary add" ui-sref="openlmis.dispensing.prescriptions.form">
          {{'dispensingPrescriptions.addPrescription' | message}}
        </button>
        <button class="btn btn-primary" ui-sref="openlmis.dispensing.prescriptions.form">
          {{'dispensingPrescriptions.viewPrescription' | message}}
        </button>
      </td>
    </tr>

    </tbody>
  </table>
  <openlmis-pagination/>
</section>